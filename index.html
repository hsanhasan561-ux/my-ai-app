<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BD MASTER AI V10 PRO - 7 CORE SQL ENGINE</title>
    <style>
        :root { --primary-bg: #040608; --panel-bg: #0d1117; --accent: #00FFCC; --delete-red: #ff4d4d; }
        body { background-color: var(--primary-bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 15px; display: flex; flex-direction: column; align-items: center; }
        #loginScreen { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 80vh; }
        .login-box { background: var(--panel-bg); padding: 30px; border-radius: 15px; border: 1px solid var(--accent); text-align: center; }
        #mainApp { display: none; width: 100%; max-width: 450px; text-align: center; }
        .ai-status-card { background: var(--panel-bg); border: 1px solid var(--accent); border-radius: 12px; padding: 15px; margin-bottom: 15px; width: 100%; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; box-sizing: border-box;}
        .stat-box { text-align: left; border-left: 2px solid #333; padding-left: 10px; }
        .stat-box label { font-size: 10px; color: #888; display: block; text-transform: uppercase; }
        .stat-box span { font-size: 15px; font-weight: bold; color: #fff; }
        .number-grid { display: grid; grid-template-columns: repeat(6, 1fr); gap: 5px; background: #fff; padding: 10px; border-radius: 10px; margin-bottom: 15px; }
        .num-btn { border: none; border-radius: 5px; height: 40px; color: white; font-weight: bold; cursor: pointer; font-size: 14px; }
        .n5, .n6 { background: #ff4d4d; } .n7 { background: #9b59b6; } .n8, .n9 { background: #34495e; }
        .n0, .n1 { background: #2ecc71; } .n2 { background: #16a085; } .n3, .n4 { background: #f39c12; }
        .bg-blue { background: #3498db; font-size: 10px; } .bg-orange { background: #e67e22; font-size: 10px; }
        #patternDisplay { width: 100%; padding: 20px; border-radius: 8px; border: 2px solid var(--accent); background: #111; color: var(--accent); margin-bottom: 15px; min-height: 70px; font-size: 18px; font-weight: bold; display: flex; align-items: center; justify-content: center; text-align: center; box-sizing: border-box;}
        input { width: 100%; padding: 12px; margin-bottom: 10px; background: #1a1a1a; color: white; border: 1px solid #333; border-radius: 8px; box-sizing: border-box; outline: none; }
        .btn-get { background: linear-gradient(90deg, #00FFCC, #00d2ff); color: #000; width: 100%; font-weight: 900; height: 55px; border: none; border-radius: 10px; cursor: pointer; font-size: 18px; box-shadow: 0 4px 15px rgba(0, 255, 204, 0.3); }
        #floatingOverlay { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 280px; background: rgba(13, 20, 30, 0.98); border: 2.5px solid var(--accent); border-radius: 15px; padding: 20px; z-index: 10000; text-align: center; box-shadow: 0 0 40px rgba(0,255,204,0.6); }
        .float-res { font-size: 42px; font-weight: 900; margin: 5px 0; text-transform: uppercase; }
        .ai-bet-info { background: #333; color: #00FFCC; padding: 8px; border-radius: 6px; font-weight: bold; margin-bottom: 15px; border: 1px dashed var(--accent); }
        .history-section { width: 100%; margin-top: 25px; background: #0d1117; border-radius: 10px; padding: 12px; border: 1px solid #222; overflow-x: auto; }
        table { width: 100%; font-size: 13px; border-collapse: collapse; }
        th, td { padding: 10px; border-bottom: 1px solid #222; text-align: center; }
    </style>
</head>
<body>

<div id="loginScreen">
    <div class="login-box">
        <h2 style="color: var(--accent);">üîê VIP AI SQL LOGIN</h2>
        <input type="password" id="passInput" placeholder="Enter Password">
        <button class="btn-get" onclick="checkLogin()">LOGIN NOW</button>
    </div>
</div>

<div id="mainApp">
    <h2 style="color: var(--accent); margin-bottom: 15px;">üî• najmul MASTER AI V10 SQL</h2>
    <div class="ai-status-card">
        <div class="stat-box"><label>Balance</label><span id="balView">10000</span></div>
        <div class="stat-box"><label>AI Mode</label><span id="aiMode" style="color: #00FFCC;">7-CORE AI</span></div>
        <div class="stat-box"><label>Win/Loss</label><span><b style="color:#2ecc71" id="winV">0</b> / <b style="color:#ff4d4d" id="lossV">0</b></span></div>
        <div class="stat-box"><label>Risk Level</label><span id="riskLevel">LOW</span></div>
    </div>
    <input type="number" id="balInput" placeholder="‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® (‡¶Ø‡ßá‡¶Æ‡¶®: ‡ßß‡ß¶‡ß¶‡ß¶‡ß¶)" onchange="initBalance()">
    <div class="number-grid">
        <button class="num-btn bg-blue" disabled>+Big</button>
        <button class="num-btn n5" onclick="addNum(5)">5</button>
        <button class="num-btn n6" onclick="addNum(6)">6</button>
        <button class="num-btn n7" onclick="addNum(7)">7</button>
        <button class="num-btn n8" onclick="addNum(8)">8</button>
        <button class="num-btn n9" onclick="addNum(9)">9</button>
        <button class="num-btn bg-orange" disabled>+Small</button>
        <button class="num-btn n0" onclick="addNum(0)">0</button>
        <button class="num-btn n1" onclick="addNum(1)">1</button>
        <button class="num-btn n2" onclick="addNum(2)">2</button>
        <button class="num-btn n3" onclick="addNum(3)">3</button>
        <button class="num-btn n4" onclick="addNum(4)">4</button>
    </div>
    <div style="display:flex; justify-content: space-between; margin-bottom: 10px;">
        <span id="counter" style="color:var(--accent); font-weight:bold;">Input (0/10)</span>
        <button onclick="deleteLast()" style="background:var(--delete-red); border:none; color:white; border-radius:5px; padding:5px 15px; cursor:pointer;">DELETE</button>
    </div>
    <div id="patternDisplay">‡¶Ü‡¶ó‡ßá‡¶∞ ‡ßß‡ß¶‡¶ü‡¶ø ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¶‡¶ø‡¶®</div>
    <input type="number" id="periodInput" placeholder="‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡¶ø‡¶∞‡¶ø‡ßü‡¶° ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
    <button class="btn-get" onclick="startProcess()">üöÄ GET PRO SIGNAL</button>
    <div id="searchLoader" style="display:none; margin:15px 0; color:var(--accent);">SQL ANALYZING...</div>
    <div id="floatingOverlay">
        <div style="color:var(--accent); font-weight:bold; margin-bottom:10px;">PRO AI SIGNAL</div>
        <div id="winRateDisp" style="font-size:12px; color:#fff; margin-bottom:5px;">ACCURACY: --%</div>
        <div id="floatPred" class="float-res">--</div>
        <div id="floatNums" style="font-size:24px; color:#FFEB3B; letter-spacing:5px; margin-bottom:15px;">--</div>
        <div class="ai-bet-info" id="aiBetInfo">BET AMOUNT: 200</div>
        <div style="display:flex; gap:10px;">
            <button onclick="record('WIN')" style="flex:1; background:#2ecc71; border:none; color:#fff; padding:10px; border-radius:5px; font-weight:bold;">WIN</button>
            <button onclick="record('LOSS')" style="flex:1; background:#e74c3c; border:none; color:#fff; padding:10px; border-radius:5px; font-weight:bold;">LOSS</button>
        </div>
    </div>
    <div class="history-section">
        <table>
            <thead><tr><th>Period</th><th>Signal</th><th>Result</th></tr></thead>
            <tbody id="historyBody"></tbody>
        </table>
    </div>
</div>

<script>
    let wallet = 10000;
    let wins = 0, losses = 0, mStep = 0, inputs = [];
    let currentPrediction = "";
    let currentNumbers = "";

    const DB_NAME = "NAJMUL_AI_DB";
    const STORE_NAME = "patterns";
    let db;
    const request = indexedDB.open(DB_NAME, 1);
    request.onupgradeneeded = (e) => {
        db = e.target.result;
        db.createObjectStore(STORE_NAME, { keyPath: "pattern" });
    };
    request.onsuccess = (e) => { 
        db = e.target.result; 
        const tx = db.transaction(STORE_NAME, "readwrite").objectStore(STORE_NAME);
        const DATA = [
            { pattern: "BBB", next: "S" }, { pattern: "SSS", next: "B" },
            { pattern: "BBSS", next: "B" }, { pattern: "SSBB", next: "S" },
            { pattern: "BBBBB", next: "S" }, { pattern: "SSSSS", next: "B" },
            // ‡ß©‡ß¶‡¶ü‡¶ø ‡¶õ‡¶¨‡¶ø‡¶∞ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡ßß ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶®
    { pattern: "B", next: "S" }, // Big ‡¶Ü‡¶∏‡¶≤‡ßá ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ Small ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ
    { pattern: "S", next: "B" }, // Small ‡¶Ü‡¶∏‡¶≤‡ßá ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ Big ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ
    { pattern: "B", next: "B" }, // Big ‡¶è‡¶∞ ‡¶™‡¶∞ Big (Trend ‡¶´‡¶≤‡ßã ‡¶ï‡¶∞‡¶≤‡ßá)
    { pattern: "S", next: "S" },  // Small ‡¶è‡¶∞ ‡¶™‡¶∞ Small (Trend ‡¶´‡¶≤‡ßã ‡¶ï‡¶∞‡¶≤‡ßá)
            // ‡¶õ‡¶¨‡¶ø‡¶∞ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡ß® ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶®
    { pattern: "BB", next: "B" }, 
    { pattern: "BB", next: "S" },
    { pattern: "SS", next: "S" }, 
    { pattern: "SS", next: "B" },
    { pattern: "BS", next: "S" }, 
    { pattern: "BS", next: "B" },
    { pattern: "SB", next: "B" }, 
    { pattern: "SB", next: "S" },
    
    // ‡¶õ‡¶¨‡¶ø‡¶∞ ‡¶ó‡¶≠‡ßÄ‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶∞‡¶ì ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶ï‡¶Æ‡ßç‡¶¨‡¶ø‡¶®‡ßá‡¶∂‡¶®
    { pattern: "BB", next: "S" }, 
    { pattern: "SS", next: "B" },
    { pattern: "BS", next: "B" }, 
    { pattern: "SB", next: "S" },
        // --- ‡ß© ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶õ‡¶¨‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡ßá‡¶ì‡ßü‡¶æ) ---
    { pattern: "BBB", next: "S" },
    { pattern: "BBS", next: "S" },
    { pattern: "BSB", next: "S" },
    { pattern: "BSS", next: "B" },
    { pattern: "SBB", next: "S" },
    { pattern: "SBS", next: "B" },
    { pattern: "SSB", next: "B" },
    { pattern: "SSS", next: "B" },

    // --- ‡ß™ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶õ‡¶¨‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡ßá‡¶ì‡ßü‡¶æ) ---
    { pattern: "BBBB", next: "S" },
    { pattern: "BBBS", next: "S" },
    { pattern: "BBSS", next: "B" },
    { pattern: "BSSS", next: "B" },
    { pattern: "SSSS", next: "B" },
    { pattern: "SSSB", next: "B" },
    { pattern: "SSBB", next: "S" },
    { pattern: "SBBB", next: "S" },
    { pattern: "BSBS", next: "S" },
    { pattern: "SBSB", next: "B" },
    { pattern: "BSSB", next: "S" },
    { pattern: "SBBS", next: "B" },
    // --- ‡ß© ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶õ‡¶¨‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Ç‡¶ó‡ßÉ‡¶π‡ßÄ‡¶§) ---
    { pattern: "BBB", next: "S" },
    { pattern: "SSS", next: "B" },
    { pattern: "BBS", next: "B" },
    { pattern: "SSB", next: "S" },
    { pattern: "BSB", next: "B" },
    { pattern: "SBS", next: "S" },
    { pattern: "BSS", next: "S" },
    { pattern: "SBB", next: "B" },
    { pattern: "SSB", next: "B" },
    { pattern: "BBS", next: "S" },

    // --- ‡ß™ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶õ‡¶¨‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Ç‡¶ó‡ßÉ‡¶π‡ßÄ‡¶§) ---
    { pattern: "BBBB", next: "S" },
    { pattern: "SSSS", next: "B" },
    { pattern: "BBSS", next: "B" },
    { pattern: "SSBB", next: "S" },
    { pattern: "BSBS", next: "B" },
    { pattern: "SBSB", next: "S" },
    { pattern: "BSSB", next: "B" },
    { pattern: "SBBS", next: "S" },
    { pattern: "BSSS", next: "B" },
    { pattern: "SBBB", next: "S" },
    { pattern: "SSBS", next: "B" },
    { pattern: "BBBS", next: "S" },
        // --- ‡ß® ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (Short Trend) ---
    { pattern: "BB", next: "S" },
    { pattern: "SS", next: "B" },
    { pattern: "BS", next: "B" },
    { pattern: "SB", next: "S" },
    { pattern: "BB", next: "B" },
    { pattern: "SS", next: "S" },

    // --- ‡ß© ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (Regular Trend) ---
    { pattern: "BBB", next: "S" },
    { pattern: "SSS", next: "B" },
    { pattern: "BBS", next: "B" },
    { pattern: "SSB", next: "S" },
    { pattern: "BSB", next: "S" },
    { pattern: "SBS", next: "B" },
    { pattern: "BSS", next: "B" },
    { pattern: "SBB", next: "S" },
    { pattern: "BSB", next: "B" },
    { pattern: "SBS", next: "S" },
    { pattern: "SSB", next: "B" },
    { pattern: "BBS", next: "S" },
    // --- ‡ß© ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶õ‡¶¨‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Ç‡¶ó‡ßÉ‡¶π‡ßÄ‡¶§) ---
    { pattern: "BSB", next: "S" },
    { pattern: "SBS", next: "B" },
    { pattern: "BBS", next: "S" },
    { pattern: "SSB", next: "B" },
    { pattern: "BSS", next: "B" },
    { pattern: "SBB", next: "S" },

    // --- ‡ß™ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶õ‡¶¨‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Ç‡¶ó‡ßÉ‡¶π‡ßÄ‡¶§) ---
    { pattern: "BSBS", next: "S" },
    { pattern: "SBSB", next: "B" },
    { pattern: "BBSS", next: "B" },
    { pattern: "SSBB", next: "S" },
    { pattern: "BSSB", next: "S" },
    { pattern: "SBBS", next: "B" },

    // --- ‡ß´ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶õ‡¶¨‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Ç‡¶ó‡ßÉ‡¶π‡ßÄ‡¶§) ---
    { pattern: "BSBSB", next: "S" },
    { pattern: "SBSBS", next: "B" },
    { pattern: "BBBBB", next: "S" },
    { pattern: "SSSSS", next: "B" },
    { pattern: "BSSBB", next: "S" },
    { pattern: "SBBSS", next: "B" },

    // --- ‡ß¨ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶õ‡¶¨‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Ç‡¶ó‡ßÉ‡¶π‡ßÄ‡¶§) ---
    { pattern: "BSBSBS", next: "S" },
    { pattern: "SBSBSB", next: "B" },
    { pattern: "BBSSBB", next: "S" },
    { pattern: "SSBBSS", next: "B" },
    { pattern: "BSSBSS", next: "B" },
    { pattern: "SBB SBB", next: "S" },
     // --- ‡ß´ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶õ‡¶¨‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Ç‡¶ó‡ßÉ‡¶π‡ßÄ‡¶§) ---
    { pattern: "BBBBB", next: "S" },
    { pattern: "SSSSS", next: "B" },
    { pattern: "BBBBS", next: "S" },
    { pattern: "SSSSB", next: "B" },
    { pattern: "BBSSB", next: "S" },
    { pattern: "SSBBS", next: "B" },
    { pattern: "BSBSB", next: "S" },
    { pattern: "SBSBS", next: "B" },
    { pattern: "BSSBB", next: "S" },
    { pattern: "SBBSS", next: "B" },
    { pattern: "BSBSS", next: "B" },
    { pattern: "SBSBB", next: "S" },

    // --- ‡ß¨ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶õ‡¶¨‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Ç‡¶ó‡ßÉ‡¶π‡ßÄ‡¶§) ---
    { pattern: "BBBBBB", next: "S" },
    { pattern: "SSSSSS", next: "B" },
    { pattern: "BBSSBB", next: "S" },
    { pattern: "SSBBSS", next: "B" },
    { pattern: "BSBSBS", next: "S" },
    { pattern: "SBSBSB", next: "B" },
    { pattern: "BSSBSS", next: "B" },
    { pattern: "SBB SBB", next: "S" },
    { pattern: "BBBSSS", next: "B" },
    { pattern: "SSSBBB", next: "S" },
    { pattern: "BBSBBS", next: "S" },
    { pattern: "SSBSSB", next: "B" },
            { pattern: "BBBBBBBBBB", next: "S" },
            { pattern: "SSSSSSSSSS", next: "B" },
            { pattern: "BSBSBSBSBS", next: "S" },
            { pattern: "SBSBSBSBSB", next: "B" },
            { pattern: "SSSSSBBBBB", next: "S" },
            { pattern: "SSSSBBBBBS", next: "S" },
            { pattern: "SSSBBBBSSB", next: "B" },
            { pattern: "SSBBBBSSBS", next: "S" },
            { pattern: "SBBBBSSBSB", next: "B" }, 
            { pattern: "BBBBSSBSBB", next: "S" },
            { pattern: "BBBSSBSBBS", next: "S" }, 
            { pattern: "BBSSBSBBSS", next: "S" },
            { pattern: "BSSBSBBSSB", next: "B" },
            { pattern: "SSBSBBSSBS", next: "B" },
           { pattern: "SBSBBSSBSB", next: "S" },
            { pattern: "BSBBSSBSBB", next: "B" },
        { pattern: "SBBSSBSBBS", next: "B" }, 
        { pattern: "BBSSBSBBSS", next: "S" },
        { pattern: "BSSBSBBSSS", next: "B" }, 
        { pattern: "SSBSBBSSSS", next: "B" },
        { pattern: "SBSBBSSSSS", next: "B" }, 
        { pattern: "BSBBSSSSSBB", next: "S" },
        { pattern: "BBSSBBSBSB", next: "S" }, 
        { pattern: "BSSBBSBSBS", next: "B" },
        { pattern: "SSBBSBSBSB", next: "S" },
        { pattern: "SBBSBSBSBS", next: "B" },
        { pattern: "BBSBSBSBSB", next: "S" },
        { pattern: "BSBSBSBSBS", next: "B" },
        { pattern: "SBSBSBSBSB", next: "S" }, 
        { pattern: "BSBSBSBSBB", next: "S" },
        { pattern: "SBSBSBSBBS", next: "B" },
        { pattern: "BSBSBSBBSS", next: "B" },
        { pattern: "SBSBSBBSSS", next: "S" }, 
        { pattern: "BSBSBBSSSS", next: "S" },
        { pattern: "SBSBBSSSSS", next: "B" },
        { pattern: "BSBBSSSSSBB", next: "B"},
        { pattern: "BSSBBSSBBS", next: "S" },
        { pattern: "SSBBSSBBSB", next: "B" },
        { pattern: "SBBSSBBSBB", next: "S" }, 
        { pattern: "BBSSBBSBBS", next: "B" },
        { pattern: "BSSBBSBBSB", next: "S" }, 
        { pattern: "SSBBSBBSBB", next: "S" },
        { pattern: "SBBSBBSBBS", next: "B" }, 
        { pattern: "BBSBBSBBSB", next: "B" },
        { pattern: "BSBBSBBSBS", next: "S" }, 
        { pattern: "SBBSBBSBSB", next: "B" },
        { pattern: "BBSBBSBSBB", next: "S" }, 
        { pattern: "BSBBSBSBBS", next: "S" },
        { pattern: "BBBBB", next: "S" },
       { pattern: "SSSSS", next: "B" },
        { pattern: "BBBB", next: "S" }, 
        { pattern: "SSSS", next: "B" },
        { pattern: "BBB", next: "S" }, 
        { pattern: "SSS", next: "B" },
        { pattern: "BBS", next: "S" }, 
        { pattern: "SSB", next: "B" },
        { pattern: "BSB", next: "S" },
        { pattern: "SBS", next: "B" },
        { pattern: "BSS", next: "B" },
        { pattern: "SBB", next: "S" },
        { pattern: "BBSS", next: "B" }, 
        { pattern: "SSBB", next: "S" },
        { pattern: "BSBS", next: "S" },
        { pattern: "SBSB", next: "B" },
        { pattern: "BSBSBSSBSB", next: "B" },
        { pattern: "SBSBBSBBSB", next: "S" },
        { pattern: "BSSBSSBSSB", next: "B" }, 
        { pattern: "SBBSSBBSSB", next: "S" },
        { pattern: "BBBBSBBBBS", next: "B" },
        { pattern: "SSSSBSSSSB", next: "S" },
        { pattern: "BBSSBBSSBB", next: "S" }, 
        { pattern: "SSBBSSBBSS", next: "B" },
        { pattern: "BBBSSSBBSB", next: "S" }, 
        { pattern: "SSSBBBSBSB", next: "B" },
        { pattern: "BBSBSSBBSB", next: "B" },
        { pattern: "SSBSBBSBBS", next: "S" },
            { pattern: "BBB", next: "S" },
        { pattern: "BBS", next: "S" },
        { pattern: "BSB", next: "S" },
        { pattern: "BSS", next: "B" },
        { pattern: "SBB", next: "S" },
        { pattern: "SBS", next: "B" },
        { pattern: "SSB", next: "B" },
        { pattern: "SSS", next: "B" },

        // --- ‡ß™ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® ---
        { pattern: "BBBB", next: "S" },
        { pattern: "BBSS", next: "B" },
        { pattern: "BSBS", next: "S" },
        { pattern: "SBBB", next: "B" },
        { pattern: "SBSB", next: "B" },
        { pattern: "SSBB", next: "S" },
        { pattern: "SSSS", next: "B" },

        // --- ‡ß´ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® ---
        { pattern: "BBBBB", next: "S" },
        { pattern: "SSSSS", next: "B" },
        { pattern: "BSBSB", next: "S" },
        { pattern: "SBSBS", next: "B" },

        // --- ‡ßß‡ß¶ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® (‡¶õ‡¶¨‡¶ø ‡¶ì ‡¶®‡ßã‡¶ü‡¶¨‡ßÅ‡¶ï ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Ç‡¶ó‡ßÉ‡¶π‡ßÄ‡¶§) ---
        { pattern: "BBBBBBBBBB", next: "S" },
        { pattern: "SSSSSSSSSS", next: "B" },
        { pattern: "BSBSBSBSBS", next: "S" },
        { pattern: "SBSBSBSBSB", next: "B" },
        { pattern: "SSSSSBBBBB", next: "S" },
        { pattern: "SSSSBBBBBS", next: "S" },
        { pattern: "SSSBBBBSSB", next: "B" },
        { pattern: "SSBBBBSSBS", next: "S" },
        { pattern: "SBBBBSSBSB", next: "B" }, 
        { pattern: "BBBBSSBSBB", next: "S" },
        { pattern: "BBBSSBSBBS", next: "S" }, 
        { pattern: "BBSSBSBBSS", next: "S" },
        { pattern: "BSSBSBBSSB", next: "B" },
        { pattern: "SSBSBBSSBS", next: "B" },
        { pattern: "SBSBBSSBSB", next: "S" },
        { pattern: "BSBBSSBSBB", next: "B" },
        { pattern: "SBBSSBSBBS", next: "B" }, 
        { pattern: "BSSBSBBSSS", next: "B" }, 
        { pattern: "SSBSBBSSSS", next: "B" },
        { pattern: "SBSBBSSSSS", next: "B" }, 
        { pattern: "BBSSBBSBSB", next: "S" }, 
        { pattern: "BSSBBSBSBS", next: "B" },
        { pattern: "SSBBSBSBSB", next: "S" },
        { pattern: "SBBSBSBSBS", next: "B" },
        { pattern: "BBSBSBSBSB", next: "S" },
        { pattern: "BSBSBSBSBB", next: "S" },
        { pattern: "SBSBSBSBBS", next: "B" },
        { pattern: "BSBSBSBBSS", next: "B" },
        { pattern: "SBSBSBBSSS", next: "S" }, 
        { pattern: "BSBSBBSSSS", next: "S" },
        { pattern: "BSSBBSSBBS", next: "S" },
        { pattern: "SSBBSSBBSB", next: "B" },
        { pattern: "SBBSSBBSBB", next: "S" }, 
        { pattern: "BBSSBBSBBS", next: "B" },
        { pattern: "BSSBBSBBSB", next: "S" }, 
        { pattern: "SSBBSBBSBB", next: "S" },
        { pattern: "SBBSBBSBBS", next: "B" }, 
        { pattern: "BBSBBSBBSB", next: "B" },
        { pattern: "BSBBSBBSBS", next: "S" }, 
        { pattern: "SBBSBBSBSB", next: "B" },
        { pattern: "BBSBBSBSBB", next: "S" }, 
        { pattern: "BSBBSBSBBS", next: "S" },
        { pattern: "BSBSBSSBSB", next: "B" },
        { pattern: "SBSBBSBBSB", next: "S" },
        { pattern: "BSSBSSBSSB", next: "B" }, 
        { pattern: "SBBSSBBSSB", next: "S" },
        { pattern: "BBBBSBBBBS", next: "B" },
        { pattern: "SSSSBSSSSB", next: "S" },
        { pattern: "BBSSBBSSBB", next: "S" }, 
        { pattern: "SSBBSSBBSS", next: "B" },
        { pattern: "BBBSSSBBSB", next: "S" }, 
        { pattern: "SSSBBBSBSB", next: "B" },
        { pattern: "BBSBSSBBSB", next: "B" },
        { pattern: "SSBSBBSBBS", next: "S" }
        ];
        DATA.forEach(d => tx.put(d));
    };

    function checkLogin() {
        if(document.getElementById('passInput').value === "1122") {
            document.getElementById('loginScreen').style.display = "none";
            document.getElementById('mainApp').style.display = "block";
        } else alert("Wrong Password!");
    }

    function initBalance() {
        let v = document.getElementById('balInput').value;
        if(v) { wallet = parseFloat(v); mStep = 0; refreshUI(); }
    }

    function refreshUI() {
        document.getElementById('balView').innerText = wallet;
        document.getElementById('winV').innerText = wins;
        document.getElementById('lossV').innerText = losses;
        document.getElementById('riskLevel').innerText = (losses > wins) ? "HIGH" : "LOW";
        document.getElementById('riskLevel').style.color = (losses > wins) ? "#ff4d4d" : "#FFEB3B";
    }

    function addNum(n) {
        if (inputs.length < 10) {
            inputs.push({t: (n >= 5 ? 'B' : 'S'), n: n});
            document.getElementById('patternDisplay').innerText = inputs.map(i => i.t + i.n).join(' , ');
            document.getElementById('counter').innerText = `Input (${inputs.length}/10)`;
        }
    }

    function deleteLast() {
        inputs.pop();
        document.getElementById('patternDisplay').innerText = inputs.map(i => i.t + i.n).join(' , ') || "‡¶Ü‡¶ó‡ßá‡¶∞ ‡ßß‡ß¶‡¶ü‡¶ø ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¶‡¶ø‡¶®";
        document.getElementById('counter').innerText = `Input (${inputs.length}/10)`;
    }

    function startProcess() {
        const period = document.getElementById('periodInput').value;
        if (!period) { alert("‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶™‡¶ø‡¶∞‡¶ø‡ßü‡¶° ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®!"); return; }
        if (inputs.length < 10) { alert("‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶ó‡ßá‡¶∞ ‡ßß‡ß¶‡¶ü‡¶ø ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¶‡¶ø‡¶®!"); return; }
        document.getElementById('searchLoader').style.display = "block";
        setTimeout(runAIModel, 2000);
    }

    async function runAIModel() {
        document.getElementById('searchLoader').style.display = "none";
        const pKey = inputs.map(i => i.t).join('');
        
        let match = await new Promise((res) => {
            const req = db.transaction(STORE_NAME, "readonly").objectStore(STORE_NAME).get(pKey);
            req.onsuccess = () => res(req.result);
        });

        let prediction = "";
        if (match) {
            document.getElementById('aiMode').innerText = "SQL MATCH";
            prediction = (match.next === "B") ? "BIG" : "SMALL";
        } else {
            document.getElementById('aiMode').innerText = "TREND AI";
            let bCount = inputs.filter(i => i.t === 'B').length;
            let sCount = inputs.filter(i => i.t === 'S').length;
            prediction = (bCount > sCount) ? "BIG" : "SMALL";
        }

        if(losses > wins && losses % 2 === 0) prediction = (prediction === "BIG") ? "SMALL" : "BIG";

        // ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶≤‡¶ú‡¶ø‡¶ï
        let pNums = (prediction === "BIG") ? [9,8,7,6,5] : [4,3,2,1,0];
        let finalNums = pNums.sort(() => Math.random() - 0.5).slice(0,3).join(',');

        currentPrediction = prediction;
        currentNumbers = finalNums;

        // ‡¶™‡¶™-‡¶Ü‡¶™ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
        document.getElementById('floatPred').innerText = prediction;
        document.getElementById('floatPred').style.color = (prediction === "BIG") ? "#ff4d4d" : "#00FFCC";
        document.getElementById('floatNums').innerText = finalNums;
        document.getElementById('winRateDisp').innerText = "ACCURACY: " + (92 + (new Date().getSeconds() % 5)) + "%";
        document.getElementById('aiBetInfo').innerText = "BET AMOUNT: " + Math.floor((wallet * 2 / 100) * Math.pow(2, mStep));
        document.getElementById('floatingOverlay').style.display = "block";
    }

    function record(status) {
        let currentBet = Math.floor((wallet * 2 / 100) * Math.pow(2, mStep));
        if(status === 'WIN') { wallet += (currentBet * 0.9); wins++; mStep = 0; }
        else { wallet -= currentBet; losses++; mStep++; }
        
        // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶ï‡¶≤‡¶æ‡¶Æ‡ßá ‡¶è‡¶ñ‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡¶ì ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá
        const displaySignal = `${currentPrediction} (${currentNumbers})`;
        const rowColor = (currentPrediction === 'BIG') ? '#ff4d4d' : '#00FFCC';
        
        const row = `<tr><td>${document.getElementById('periodInput').value}</td><td style="color:${rowColor}; font-weight:bold;">${displaySignal}</td><td style="color:${status==='WIN'?'#2ecc71':'#ff4d4d'}">${status}</td></tr>`;
        document.getElementById('historyBody').innerHTML = row + document.getElementById('historyBody').innerHTML;
        
        document.getElementById('floatingOverlay').style.display = "none";
        inputs = []; 
        document.getElementById('patternDisplay').innerText = "‡¶Ü‡¶ó‡ßá‡¶∞ ‡ßß‡ß¶‡¶ü‡¶ø ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¶‡¶ø‡¶®";
        document.getElementById('counter').innerText = `Input (0/10)`;
        refreshUI();
        document.getElementById('periodInput').value = "";
    }
</script>
</body>
</html>
